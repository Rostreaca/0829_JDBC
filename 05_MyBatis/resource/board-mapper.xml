<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardMapper">
    <sql id ="boardColumn">
             SELECT
	                BOARD_NO boardNo
	              , BOARD_TITLE boardTitle
	              , BOARD_CONTENT boardContent
	              , USERID boardWriter
	              , CREATE_DATE createDate
	           FROM
	                BOARD
	           JOIN
	                MEMBER ON (BOARD_WRITER = USERNO)
	          WHERE
	                DELETE_YN = 'N'
	</sql>
	<select id="selectBoardList"
	        resultType ="board">
	       <include refid="boardColumn" />
	        ORDER
	           BY
	              BOARD_NO DESC

	</select>
	
	<select id="selectBoard"
	        parameterType="_int"
	        resultType="board">
	        
	        <include refid="boardColumn" />
	            AND
	                BOARD_NO = #{boardNo}
	        
	</select>
	
	<insert id="insertBoard">
	       INSERT
	         INTO
	              BOARD
	              (
	              BOARD_NO
	            , BOARD_TITLE
	            , BOARD_CONTENT
	            , BOARD_WRITER
	              )
	       VALUES
	              (
	              SEQ_BNO.NEXTVAL
	            , #{boardTitle}
	            , #{boardContent}
	            , #{boardWriter}
	              )
	
	</insert>
	
	<update id="deleteBoard">
	       UPDATE
	              BOARD
	          SET
	              DELETE_YN = 'Y'
	        WHERE
	              BOARD_NO = #{boardNo}
	          AND
	              DELETE_YN = 'N'
	
	</update>

</mapper>